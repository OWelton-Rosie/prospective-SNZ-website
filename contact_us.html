<!DOCTYPE html>
<html lang="en-NZ">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact us | Speedcubing New Zealand</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <h1><a href="SNZ_home.html">Speedcubing New Zealand</a></h1>
        <div>
            <strong><a href="about_us.html">About us</a></strong>
            <strong><a href="competitions.html">Competitions</a></strong>
            <strong><a href="get_involved.html">Get involved</a></strong>
            <strong><a href="contact_us.html" class="active">Contact us</a></strong>
        </div>
    </header>

    <main class="main-section">
        <div class="form-and-socials">
            <form id="contact-form" class="contact-form">
                <label for="name">Your Name:</label>
                <input type="text" id="name" name="name" placeholder="Enter your name" required>
                
                <label for="email">Your Email:</label>
                <input type="email" id="email" name="email" placeholder="Enter your email address" required>
                
                <label for="inquiryType">Which of the following best describes your inquiry?</label>
                <select id="inquiryType" name="inquiryType" required>
                    <option value="GeneralQuery">Contact SNZ with a general query</option>
                    <option value="Software">Contact SNZ's software developers (to report a bug in this website, for example)</option>
                    <option value="Results">Contact SNZ with a query on the results of a competition</option>
                    <option value="PromotionalTeam">Contact the SNZ Promotional team</option>
                    <option value="Governance">Contact SNZ Governance</option>  
                </select>

                <label for="message">Your Message:</label>
                <textarea id="message" name="message" rows="6" placeholder="Write your message here..." required></textarea>
                
                <button type="submit">Submit</button>
            </form>

            <div class="social-media">
                <h3>Follow our socials!</h3>
                <a href="https://instagram.com/speedcubingnz" target="_blank">
                    <img src="https://img.icons8.com/ios-filled/50/000000/instagram-new--v1.png" alt="Instagram">
                </a>
                <a href="https://facebook.com/speedcubingnz" target="_blank">
                    <img src="https://img.icons8.com/ios-filled/50/000000/facebook--v1.png" alt="Facebook">
                </a>
                <a href="https://youtube.com/speedcubingnz" target="_blank">
                    <img src="https://img.icons8.com/ios-filled/50/000000/youtube-play.png" alt="YouTube">
                </a>
                <a href="https://twitter.com/speedcubingnz" target="_blank">
                    <img src="https://img.icons8.com/ios-filled/50/fJp7hepMryiw/twitterx" alt="Twitter X Icon">

                </a>
            </div>
        </div>
    </main>

    <footer class="footer">
        <a href="https://github.com/OWelton-Rosie/prospective-SNZ-website/tree/main" target="_blank">GitHub</a>. Made with ❤️ by <a href="https://www.worldcubeassociation.org/persons/2023WELT02" target="_blank">Oscar Welton-Rosie</a>.
    </footer>

    <script>
        document.getElementById('contact-form').addEventListener('submit', async function (event) {
            event.preventDefault();

            const formData = new FormData(event.target);

            try {
                const response = await fetch('https://formspree.io/f/xanyaqja', {
                    method: 'POST',
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    window.location.href = 'https://prospective-snz-website.pages.dev/form_finish';
                } else {
                    alert('There was an issue submitting your form. Please try again.');
                }
            } catch (error) {
                alert('Network error. Please try again.');
            }
        });
    </script>
</body>
</html>
